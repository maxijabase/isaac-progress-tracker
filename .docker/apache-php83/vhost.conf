<VirtualHost *:80>
	ServerName localhost
	DocumentRoot /var/www/html/public
	
	<Directory /var/www/html/public>
		Options -Indexes +FollowSymLinks
		AllowOverride All
		Require all granted
	</Directory>
	
	# Enable gzip compression for text-based content
	<IfModule mod_deflate.c>
		AddOutputFilterByType DEFLATE application/json
		AddOutputFilterByType DEFLATE application/javascript
		AddOutputFilterByType DEFLATE text/html
		AddOutputFilterByType DEFLATE text/css
		AddOutputFilterByType DEFLATE text/plain
		AddOutputFilterByType DEFLATE text/xml
		AddOutputFilterByType DEFLATE application/xml
	</IfModule>
	
	# Enable ETag and Last-Modified for proper HTTP caching
	# Browser will cache files but validate with server on each request
	FileETag MTime Size
	
	<FilesMatch "\.json$">
		# Allow caching but always revalidate with server
		Header set Cache-Control "no-cache, must-revalidate"
	</FilesMatch>
</VirtualHost>